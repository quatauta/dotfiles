#!/bin/bash

if [ "$#" -eq 0 ] ; then
    echo "usage: $0 [PDF-FILES...]"
fi

for FILE in "$@" ; do
    echo ":: $FILE"

    PAGE_COUNT=`pdfinfo "$FILE" | awk '/^Pages:/ { print $2 }'`

    for (( PAGE=1; PAGE <= "$PAGE_COUNT" ; PAGE++ )) ; do
        echo " : Page $PAGE"
        pdffonts -f "$PAGE" -l "$PAGE" "$FILE" |
        grep '^[[:upper:]]\{6\}+' |
        sed -e 's/^[[:upper:]]\{6\}+/   /'
    done
done
